<div class="projects-filter-wrapper">
  <div class="filter-buttons">
    <button class="filter-btn active" onclick="filterProjects('all')">전체</button>
    <button class="filter-btn" onclick="filterProjects('demand-modeling')">수요모델링</button>
    <button class="filter-btn" onclick="filterProjects('sales-marketing')">영업/마케팅</button>
    <button class="filter-btn" onclick="filterProjects('data-analysis')">데이터분석</button>
  </div>
</div>

<style>
.projects-filter-wrapper {
  max-width: 1600px;
  margin: 0 auto 3rem;
  padding: 0 3rem;
}

.filter-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 2rem;
}

.filter-btn {
  padding: 0.75rem 2rem;
  background: white;
  border: 2px solid #6366f1;
  border-radius: 50px;
  color: #6366f1;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s ease;
  font-size: 1rem;
}

.filter-btn:hover {
  background: #eef2ff;
  transform: translateY(-2px);
}

.filter-btn.active {
  background: #6366f1;
  color: white;
}

/* Force 3 column grid */
.hbx-section-content {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 2rem !important;
  max-width: 1600px !important;
  margin: 0 auto !important;
  padding: 0 3rem !important;
}

@media (max-width: 1024px) {
  .hbx-section-content {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 640px) {
  .hbx-section-content {
    grid-template-columns: 1fr !important;
  }
}
</style>

<script>
// Force grid layout on load
window.addEventListener('DOMContentLoaded', function() {
  const container = document.querySelector('.hbx-section-content');
  if (container) {
    container.style.display = 'grid';
    container.style.gridTemplateColumns = 'repeat(3, 1fr)';
    container.style.gap = '2rem';
    container.style.maxWidth = '1600px';
    container.style.margin = '0 auto';
    container.style.padding = '0 3rem';
  }
});

function filterProjects(category) {
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');
  
  const cards = document.querySelectorAll('.hbx-section-content > div[role="article"]');
  
  cards.forEach(card => {
    const tags = card.textContent.toLowerCase();
    
    if (category === 'all') {
      card.style.display = 'block';
    } else if (tags.includes(category) || 
               (category === 'demand-modeling' && tags.includes('수요')) ||
               (category === 'sales-marketing' && tags.includes('영업')) ||
               (category === 'data-analysis' && tags.includes('데이터'))) {
      card.style.display = 'block';
    } else {
      card.style.display = 'none';
    }
  });
}
</script>